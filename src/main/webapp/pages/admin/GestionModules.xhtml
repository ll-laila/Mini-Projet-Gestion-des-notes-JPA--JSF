<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
</h:head>
<h:body>
    <div align="left" class="pt-2 pl-2">
        <h:link outcome="Admin.xhtml" styleClass="btn btn-outline-success" value="Retour"/> |
        <h:commandLink styleClass="btn btn-outline-danger" value="Logout" action="#{LoginBean.logout()}"  />
    </div>
    <f:view>
      <h2 align="center">Gestion des modules</h2><hr/>
      <div align="center" class="container p-5">
        <h:form>
            <h:dataTable id="modulesTable" value="#{AdminBean.listModule()}" var="module" styleClass="table table-striped table-bordered tableUpdated">
                <h:column>
                    <f:facet name="header">Nom du module</f:facet>
                    <h:outputText value="#{module.nom}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Semestre</f:facet>
                    <h:outputText value="#{module.semestre}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Filière</f:facet>
                    <h:outputText value="#{module.filiere}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Enseignant</f:facet>
                    <h:outputText value="#{module.enseignant.nom} #{module.enseignant.prenom}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Actions</f:facet>
                    <h:commandButton type="submit" value="Edit" action="#{AdminBean.EditPageModule(module)}" styleClass="btn btn-warning" /> |
                    <h:commandButton value="Supprimer" action="#{AdminBean.supprimerModule(module)}" styleClass="btn btn-danger" />
                </h:column>
            </h:dataTable>
            <div align="right">
                <h:commandButton type="submit" value="Ajout Module" action="#{AdminBean.ajoutPageModule}" styleClass="btn btn-dark btnSpace" />
            </div>
        </h:form>

          <h:form rendered="#{AdminBean.editFormMod}">
              <div  class="container mt-5">
                  <h3 class="mb-4">Ajout Module</h3>
                  <div class="row mb-3">
                      <label for="nomM" class="col-sm-2 col-form-label">Nom</label>
                      <div class="col-sm-10">
                          <h:inputText id="nomM" value="#{AdminBean.editModule.nom}" class="form-control" required="true"/>
                      </div>
                  </div>
                  <div class="row mb-3">
                      <label for="semestre" class="col-sm-2 col-form-label">Semestre</label>
                      <div class="col-sm-10">
                          <h:inputText id="semestre" value="#{AdminBean.editModule.semestre}" class="form-control" required="true"/>
                      </div>
                  </div>
                  <div class="row mb-3">
                      <label for="filiereM" class="col-sm-2 col-form-label">Filière</label>
                      <div class="col-sm-10">
                          <h:inputText id="filiereM" value="#{AdminBean.editModule.filiere}" class="form-control" required="true"/>
                      </div>
                  </div>
                  <div class="row mb-3">
                      <label for="cinE" class="col-sm-2 col-form-label">Enseignant CIN</label>
                      <div class="col-sm-10">
                          <h:inputText id="cinE"  value="#{AdminBean.editModule.enseignant.cin}" class="form-control" required="true"/>
                      </div>
                  </div>
                  <div class="row">
                      <div align="left" class="col-sm-10 offset-sm-2">
                          <h:commandButton value="Enregistrer" action="#{AdminBean.editModule()}" styleClass="btn btn-dark btnSpace"/>
                      </div>
                  </div>
              </div>
          </h:form>


      </div>
    </f:view>
</h:body>
</html>
